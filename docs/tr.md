# Техническое решение проекта «FlickToPick»

## Введение
- **Цель проекта:**  
  Система решает проблему оптимального и быстрого выбора фильма для совместного/личного просмотра

- **Основания для разработки:**  
  Учебный проект по курсу «Распределенные системы», удобное и полезное, востребованное приложение для потребителей  

- **Команда:**  
  * Шпетный Сергей Русланович - разработчик\
  * Бублик Илья Олегович - разработчик\
  * Пластинин Дмитрий Александрович - разработчик\
  * Номоконова Анна Александровна - тестировщик, аналитик

---

## Глоссарий
| Термин        | Определение |
|---------------|-------------|
| Аватар  | графическое изображение пользователя в интерфейсе приложения |
| Анонимное голосование | режим сессии, при котором участники не видят, кто как проголосовал за фильм. Результаты (лайк/дизлайк) видны всем, но не привязаны к конкретным аватарам |
| Восстановление сессии | функционал, позволяющий возобновить прерванную сессию |
| Голосование | процесс выражения пользователем отношения к фильму с помощью свайпов (вверх/вниз). Синхронизируется между всеми участниками сессии |
| Дублирующиеся фильмы | фильмы, которые уже были показаны в текущей сессии или находятся в списках "Просмотрено" или "Не нравится" участников. Исключаются из подборки |
| Карточка фильма | основной элемент интерфейса, содержащий информацию о фильме: постер, название, жанр, рейтинг, описание |
| Код сессии | уникальный идентификатор (обычно комбинация букв и/или цифр), который создатель сессии передает другим пользователям для подключения |
| Подборка | набор фильмов, предлагаемый пользователям в рамках одной сессии. Формируется на основе предпочтений участников | 
| Участник сессии | человек, принимающий участие в сессии |
| Посмотреть позже |  список, в который можно сохранить фильм, если совпадение найдено, но смотреть его планируется позднее |
| Просмотрено | список фильмов, которые пользователь уже видел. Такие фильмы автоматически исключаются из показа в сессии |
| Сессия | сеанс совместного выбора фильма, в котором участвуют два или более пользователя. Все действия в сессии синхронизированы |
| Свайп |  жест пользователя по экрану для выражения реакции на фильм |
| Совпадение (Матч) | результат, при котором все участники сессии проголосовали "нравится" за один и тот же фильм |
| Таймаут бездействия |  период времени (3 секунды), по истечении которого автоматически запускается трейлер фильма |
| Трейлер | короткий видеоролик о фильме. Запускается автоматически при бездействии пользователя |

---

## Функциональные требования
Система должна предоставлять следующие функции:
1. Регистрация пользователя
1. Аутентификация пользователя
1. Просмотр пользователем своих пуллов фильмов
1. Создание групп пользователей
1. Добавление пользователей в друзья
1. Добавление пользователей и гостей в группы по ссылке
1. Добавление друзей в группы
1. Добавление фильмов в пулл "Хочу посмотреть сейчас" свайпом влево
1. Добавление фильмов в пулл "Не хочу смотреть" свайпом вправо
1. Добавление фильмов в пулл "Хочу посмотреть позже" свайпом вниз
1. Открытие дополнительной информации о фильме свайпом вверх
1. Отображение фильма для общего просмотра, как первого, попавшего в пулл "Хочу посмотреть сейчас" у каждого пользователя
1. Настройка выборки предлагаемых фильмов по критериям

---

## Нефункциональные требования
1. Любые действия пользователя должны отображаться на его экране мгновенно, меньше 100 мс
2. В условиях не стабильного интернета система должна гарантировать, что после его восстановления его сессия будет восстановлена 
3. Если все пользователи выберут какой- то фильм система должна корректно отработать и уведомить всех пользователей о находке «победителя»
4. Все голоса всех участников в рамках одной сессии должны быть сохранены и не потеряны до окончания выбора фильма
5. Архитектура должна позволять одновременно работать множеству независимых групп
6. Отказ одного серверного компонента не должен приводить к полной недоступности приложения для всех групп
7. Только участники присоединившиеся к сессии (получившие ссылку или код)могут влиять на выбор фильм

---

## Пользовательские сценарии
Основной сценарий:

1. Пользователи запускают приложение FlipToPick.

1. Один из них создаёт "сессию выбора фильма", генерируя код приглашения.

1. Остальные участники подключаются к сессии по коду.

1. Остальные участники подключаются к сессии по коду.
 Приложение показывает карточку с постером и краткой информацией о фильме (жанр, рейтинг, продолжительность и т. д.).

1. Остальные участники подключаются к сессии по коду. Все участники могут свайпнуть:
  - Влево — "Нравится"
  - Вправо— "Не нравится"

6. Если пользователь не делает свайп в течение 3 секунд, автоматически включается трейлер фильма (встроенный плеер).

1. Остальные участники подключаются к сессии по коду.
 Если все участники свайпают "Нравится", фильм считается выбранным. Приложение:

1. Остальные участники подключаются к сессии по коду.
 Показывает уведомление "Совпадение найдено!"

1. Остальные участники подключаются к сессии по коду.
 Предлагает перейти к просмотру или сохранить фильм в список "Посмотреть позже".

1. Остальные участники подключаются к сессии по коду.
Если хотя бы один участник свайпает "Не нравится", фильм автоматически отклоняется и:

1. Остальные участники подключаются к сессии по коду.
Сохраняется в список "Не нравится" (не будет показываться снова).


1. Остальные участники подключаются к сессии по коду.
Приложение автоматически показывает следующий фильм из подборки (алгоритм может учитывать предпочтения участников).

1. Остальные участники подключаются к сессии по коду.
Пользователи продолжают свайпать до тех пор, пока не найдут фильм, который понравился всем.
---

##  Архитектура системы

---

## Технические сценарии

---

## План разработки и тестирования